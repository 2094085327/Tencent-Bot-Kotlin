<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/GachaLog.css}">
    <link rel="stylesheet" type="text/css" href="GachaLog.css">
</head>
<body>

<div class="gachaAll">

    <div class="background">
        <span class="gachaTypeText">角色UP祈愿</span>
        <div class="eachCard">
            <div class="eachData">
                <div th:each="role: ${roles}" class="eachOne">
                    <div th:if="${role.itemName != null}">
                        <div class="itemContainer" th:if="${role.itemName != null}"
                             th:style="${role.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">
                            <div class="container">
                                <img class="backImg" th:src="'img/GenShinImg/sources/'+${role.itemAttribute}+'.png'"
                                     alt="First Image">
                                <img class="firstImg"
                                     th:src="${role.isEmpty() ? 'img/GenShinImg/role/' + role.itemName  : 'img/GenShinImg/role/default.png' }"
                                     th:alt="${role.itemName}">
                                <img class="overlay-image" th:src="'img/GenShinImg/sources/角色框.png'"
                                     alt="Second Image">
                            </div>
                            <div th:with="percentage=${(role.times / 90.0) * 100}" class="progress-container">
                                <div th:text="${role.times} + '抽'" class="getTimes"></div>
                                <div th:style="'width: ' + ${percentage} + '%; background-color: ' + (${percentage} < 25 ? 'rgba(0,128,0, 0.5);' : (${percentage} < 50 ? 'rgba(255, 255, 0, 0.5);' : (${percentage} < 75 ? 'rgba(255,165,0,0.5);' : 'rgba(255, 0, 0, 0.5);')))"
                                     class="progress-bar"></div>
                            </div>
                        </div>
                    </div>
                    <div class="itemContainer" th:if="${role.itemName == null}"
                         th:style="${role.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="background">
        <span class="gachaTypeText">武器UP祈愿</span>
        <div class="eachData">
            <div th:each="weapon : ${weapons}" class="eachOne">
                <div th:if="${weapon.itemName != null}">
                    <div class="itemContainer" th:if="${weapon.itemName != null}"
                         th:style="${weapon.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">

                        <img th:src="${weapon.isEmpty() ? 'img/GenShinImg/weapons/' + weapon.itemName  : 'img/GenShinImg/role/default.png' }"
                             alt="" class="itemImg">

                        <div th:with="percentage=${(weapon.times / 90.0) * 100}" class="progress-container">
                            <div th:text="${weapon.times} + '抽'" class="getTimes"></div>
                            <div th:style="'width: ' + ${percentage} + '%; background-color: ' + (${percentage} < 25 ? 'rgba(0,128,0, 0.5);' : (${percentage} < 50 ? 'rgba(255, 255, 0, 0.5);' : (${percentage} < 75 ? 'rgba(255,165,0,0.5);' : 'rgba(255, 0, 0, 0.5);')))"
                                 class="progress-bar"></div>
                        </div>
                    </div>
                </div>
                <div class="itemContainer" th:if="${weapon.itemName == null}"
                     th:style="${weapon.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">
                </div>
            </div>
        </div>
    </div>

    <div class="background">
        <span class="gachaTypeText">常驻祈愿</span>
        <div class="eachData">
            <div th:each="permanent : ${permanents}" class="eachOne">
                <div th:if="${permanent.itemName != null}">
                    <div class="itemContainer" th:if="${permanent.itemName != null}"
                         th:style="${permanent.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">

                        <img th:src="${permanent.isEmpty() ? 'img/GenShinImg/permanents/' + permanent.itemName  : 'img/GenShinImg/role/default.png' }"
                             alt="" class="itemImg">

                        <div th:with="percentage=${(permanent.times / 90.0) * 100}" class="progress-container">
                            <div th:text="${permanent.times} + '抽'" class="getTimes"></div>
                            <div th:style="'width: ' + ${percentage} + '%; background-color: ' + (${percentage} < 25 ? 'rgba(0,128,0, 0.5);' : (${percentage} < 50 ? 'rgba(255, 255, 0, 0.5);' : (${percentage} < 75 ? 'rgba(255,165,0,0.5);' : 'rgba(255, 0, 0, 0.5);')))"
                                 class="progress-bar"></div>
                        </div>
                    </div>
                </div>
                <div class="itemContainer" th:if="${permanent.itemName == null}"
                     th:style="${permanent.itemName != null} ? 'visibility: visible;' : 'visibility: hidden;'">
                </div>
            </div>
        </div>
    </div>
</div>
<script th:inline="javascript">
    const div1 = document.getElementsByClassName('progress-container')[0];
    const width = div1.offsetWidth;
    const height = width / 0.75;
    console.log(width);
    console.log(height);

    const divs = document.getElementsByClassName('container');

    for (let i = 0; i < divs.length; i++) {
        divs[i].style.width = width + 'px';
        divs[i].style.height = height + 'px';
    }

    console.log('First div with class "container" width:', divs[0].style.width);
    console.log('First div with class "container" height:', divs[0].style.height);
</script>

</body>
</html>